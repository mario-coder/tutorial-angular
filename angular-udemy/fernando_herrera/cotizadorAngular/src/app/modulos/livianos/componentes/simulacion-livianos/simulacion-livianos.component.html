<div class="fade-in">

    <p-card>

        <div class="ml-3">
            <p-header>
                <h1>Simular Livianos</h1>
                <i class="fa fa-home float-left m-1"></i>
                <h6>Inicio/Simular Livianos</h6>
            </p-header>
        </div>

        <hr>

        <!-- Contenedor datos principales -->
        <div class="container section-container shadow-drop-center">

            <form (ngSubmit)="tarificar(f)" #f="ngForm">

                <!-- Panel Principal -->
                <p-panel [toggleable]="true">

                    <p-header>
                        <span class="ui-panel-title">
                        <i class="fa fa-list"></i>
                        Parámetros Iniciales
                    </span>
                    </p-header>

                    <div class="panel-container">
                        <!-- Datos del vehiculo -->
                        <p-panel [toggleable]="true">

                            <p-header>
                                <span class="ui-panel-title">
                                    <i class="fa fa-car"></i>
                                    Datos del Vehículo
                                </span>
                            </p-header>

                        <div class="container mx-1 px-1">
                            <div class="row mb-3">
                                <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                    <label for="estadosVehiculo" class="input-label">Nuevo/Usado *</label>
                                    <select class="form-control " name="estadosVehiculo" [(ngModel)]="selectedEstadoVehiculo">
                                        <option *ngFor="let estado of estadosVehiculo" value={{estado.code}} >{{ estado.label }}</option>
                                    </select>
                                </div>

                                <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                    <label for="patente" class="input-label">Patente</label>
                                    <input class="form-control " name="patente" type="text" />
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                    <label for="anio" class="input-label">Año *</label>
                                    <select class="form-control " name="anio" [(ngModel)]="selectedEstadoVehiculo">
                                        <option *ngFor="let anio of anios" value={{anio.code}} >{{ anio.label }}</option>
                                    </select>
                                </div>

                                <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                    <label for="marca" class="input-label">Marca *</label>
                                    <select name="marca" class="form-control " [(ngModel)]="selectedEstadoVehiculo">
                                      <option *ngFor="let marca of marcas" value={{marca.code}} >{{ marca.label }}</option>
                                    </select>
                                </div>

                                <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                    <label for="modelo" class="input-label">Modelo *</label>
                                    <select name="modelo" class="form-control " [(ngModel)]="selectedEstadoVehiculo">
                                      <option *ngFor="let modelo of modelos" value={{modelo.code}} >{{ modelo.label }}</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        </p-panel>
                        <!-- Datos del vehiculo -->

                        <br>

                        <!-- Datos del asegurado -->
                        <p-panel [toggleable]="true">

                            <p-header>
                                <span class="ui-panel-title">
                                    <i class="fa fa-user"></i>
                                    Datos del Asegurado
                                </span>
                            </p-header>

                            <div class="container mx-1 px-1">
                                <div class="row mb-3">
                                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                        <label for="tipoDocumento" class="input-label">Tipo de Documento *</label>
                                        <select name="tipoDocumento" class="form-control " [(ngModel)]="selectedEstadoVehiculo">
                                            <option *ngFor="let tipo of tiposDocumento" value={{tipo.code}}>{{ tipo.label }}</option>
                                        </select>
                                    </div>

                                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                        <label for="numeroDocumento" class="input-label">Numero de Documento * </label>
                                        <input class="form-control" name="numeroDocumento" type="text" />
                                    </div>

                                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                        <label for="primerNombre" class="input-label">Primer Nombre *</label>
                                        <input class="form-control" name="primerNombre" type="text" />
                                    </div>

                                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                        <label for="apellidoPaterno" class="input-label">Apellido Paterno *</label>
                                        <input class="form-control" name="apellidoPaterno" type="text" />
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                        <label for="comuna" class="input-label">Comuna *</label>
                                        <select name="comuna" class="form-control " [(ngModel)]="selectedEstadoVehiculo">
                                            <option *ngFor="let comuna of comunas" value={{comuna.code}}>{{ comuna.label }}</option>
                                        </select>
                                    </div>

                                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                        <label for="email" class="input-label">Email *</label>
                                        <input class="form-control" name="email" type="text" />
                                    </div>

                                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                        <label for="inicioNuevaVigencia" class="input-label">Inicio Nueva Vigencia</label>
                                        <div class="input-group">
                                            <input type="text" name="inicioNuevaVigencia" class="form-control calendar-input"
                                            bsDatepicker [bsConfig]="bsConfig" [dateCustomClasses]="dateCustomClasses"
                                            aria-label="Fecha Inicio Vigencia" aria-describedby="basic-addon2">
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">
                                                    <i class="fa fa-calendar-day"></i>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </p-panel>
                        <!-- Datos del asegurado -->

                        <br>

                        <!-- Adicionales -->
                        <p-panel [toggleable]="true">

                            <p-header>
                                <span class="ui-panel-title">
                                    <i class="fa fa-plus-circle"></i>
                                    Adicionales
                                </span>
                            </p-header>

                            <div class="container mx-1 px-1">
                                <div class="row mb-3">
                                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                        <label for="taller" class="input-label">Taller</label>
                                        <select class="form-control" name="taller" [(ngModel)]="selectedEstadoVehiculo">
                                            <option *ngFor="let taller of talleres" value={{taller.code}} >{{ taller.label }}</option>
                                        </select>
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                        <label for="asistencia" class="input-label">Asistencia</label>
                                        <select class="form-control " name="asistencia" [(ngModel)]="selectedEstadoVehiculo">
                                            <option *ngFor="let asistencia of asistencias" value={{asistencia.code}} >{{ asistencia.label }}</option>
                                        </select>
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                        <label for="rcEnExceso" class="input-label">RC en Exceso</label>
                                        <select class="form-control " name="rcEnExceso" [(ngModel)]="selectedEstadoVehiculo">
                                    <!-- <option *ngFor="let estado of estadosVehiculo" value={{estado.code}} >{{ estado.label }}</option> -->
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </p-panel>
                        <!-- Fin Adicionales -->
                    </div>

                    <br>

                    <!-- Botones tarificacion -->
                    <div class="m-3">
                        <div class="row">
                            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                <button id="btn-borrar" type="button" class="btn btn-outline-primary btn-wide" (click)="saludo()">
                                    <i class="fa fa-file"></i>
                                    LIMPIAR FORMULARIO
                                </button>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                <button id="btn-tarificar" type="button" class="btn btn-warning btn-wide" (click)="tarificar()">
                                    <i class="fa fa-calculator"></i>
                                    OBTENER TARIFAS
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- Botones tarificacion -->


                </p-panel>
                <!-- Panel Principal -->
            </form>
        </div>
        <!-- Contenedor datos principales -->

        <br>

        <!-- Contenedor tarifas -->
        <div class="slide-in-bck-center" *ngIf="tarificado">
            <div class="container section-container shadow-drop-center" *ngIf="tarificado">
                <p-panel [toggleable]="true">

                    <p-header>
                        <span class="ui-panel-title" style="font-size:1.5em;">
                            <i class="fa fa-money-bill"></i>
                            Ofertas Disponibles
                        </span>
                    </p-header>

                    <p-card>
                        <p-header>
                            <img src="assets/img/logo_reale.png" style="width: 15em;">
                            <div style="float: right" class="m-4">Nro. Simulación: 12345</div>
                        </p-header>

                        <br>
                        
                        <ul class="tabla-tarifas list-group" role="tablist">
                            <li class="row">
                                <div class="listwrap col-2 header">PRODUCTO/DEDUCIBLE</div>
                                <div class="list-group-item border-0 col text-center">
                                    <div class="listwrap header">0 UF</div>
                                </div>
                                <div class="list-group-item border-0 col text-center">
                                    <div class="listwrap header">3 UF</div>
                                </div>
                                <div class="list-group-item border-0 col text-center">
                                    <div class="listwrap header">5 UF</div>
                                </div>
                                <div class="list-group-item border-0 col text-center">
                                    <div class="listwrap header">10 UF</div>
                                </div>
                            </li>
                            <li class="row" *ngIf="tarifasClasificadas['tarifasXL'] !== undefined && tarifasClasificadas['tarifasXL'].length > 0">
                                <div class="listwrap col-2 headerprod">
                                    <br>
                                    <h4>XL Liviano Particular</h4>
                                </div>
                                <div *ngFor="let tarifa of tarifasClasificadas['tarifasXL']" 
                                    class="list-group-item list-group-item-action col border-0" data-toggle="list" role="tab">
                                    <div class="listwrap">
                                        <app-tarifa-livianos [simulacion]="tarifa"></app-tarifa-livianos>
                                        &nbsp;
                                    </div>
                                </div>
                            </li>
                            <li class="row" *ngIf="tarifasClasificadas['tarifasL'] !== undefined && tarifasClasificadas['tarifasL'].length > 0">
                                <div class="listwrap col-2 headerprod">
                                    <br>
                                    <h4>L Liviano Particular</h4>
                                </div>
                                <div *ngFor="let tarifa of tarifasClasificadas['tarifasL']" 
                                    class="list-group-item list-group-item-action col border-0" data-toggle="list" role="tab">
                                    <div class="listwrap">
                                        <app-tarifa-livianos [simulacion]="tarifa"></app-tarifa-livianos>
                                        &nbsp;
                                    </div>
                                </div>
                            </li>
                            <li class="row" *ngIf="tarifasClasificadas['tarifasM'] !== undefined && tarifasClasificadas['tarifasM'].length > 0">
                                <div class="listwrap col-2 headerprod">
                                    <br>
                                    <h4>M Liviano Particular</h4>
                                </div>
                                <div *ngFor="let tarifa of tarifasClasificadas['tarifasM']" 
                                    class="list-group-item list-group-item-action col border-0" data-toggle="list" role="tab">
                                    <div class="listwrap">
                                        <app-tarifa-livianos [simulacion]="tarifa"></app-tarifa-livianos>
                                        &nbsp;
                                    </div>
                                </div>
                            </li>
                            <li class="row" *ngIf="tarifasClasificadas['tarifasS'] !== undefined && tarifasClasificadas['tarifasS'].length > 0">
                                <div class="listwrap col-2 headerprod">
                                    <br>
                                    <h4>S Liviano Particular</h4>
                                </div>
                                <div *ngFor="let tarifa of tarifasClasificadas['tarifasS']" 
                                    class="list-group-item list-group-item-action col border-0" data-toggle="list" role="tab">
                                    <div class="listwrap">
                                        <app-tarifa-livianos [simulacion]="tarifa"></app-tarifa-livianos>
                                        &nbsp;
                                    </div>
                                </div>
                            </li>
                        </ul>

                        <br>

                        <div class="bg-info p-3 text-white">
                            <i class="fa fa-exclamation-circle"></i> Nota: Taller seleccionado: Por defecto / Asistencia seleccionada:
                            <br> Por defecto Todas las Primas Incluyen el IVA
                        </div>

                        <br>

                        <p-card>
                            <div class="container mx-1 px-1">
                                <div class="row mb-3">
                                    <div class="col">
                                        <label for="descuentoRecargo" class="input-label">Descuento/Recargo</label>
                                        <select class="form-control " name="descuentoRecargo" [(ngModel)]="selectedEstadoVehiculo">
                                            <option value="0" ></option>
                                            <option value="1" >DESCUENTO</option>
                                            <option value="2" >RECARGO</option>
                                        </select>
                                    </div>
                                    <div class="col">
                                        <label for="porcentaje" class="input-label">Porcentaje</label>
                                        <input class="form-control" name="porcentaje" type="text" />
                                    </div>
                                    <div class="col">
                                        <label for="retarificar" class="input-label">&nbsp;</label>
                                        <button id="btn-tarificar" name="retarificar" class="btn btn-warning btn-wide" (click)="tarificar()">
                                            <i class="fa fa-calculator"></i>
                                            RETARIFICAR
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </p-card>

                        <br>

                        <!-- Botones Propuesta -->
                        <div class="m-3">
                            <div class="row mb-3">
                                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                    <button id="btn-borrar" type="button" class="btn btn-outline-primary btn-wide" (click)="saludo()">
                                        <i class="fa fa-print"></i>
                                        IMPRIMIR SIMULACION
                                    </button>
                                </div>
                                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                    <button id="btn-comenzarPropuesta" type="button" class="btn btn-warning btn-wide" (click)="comenzarPropuesta()">
                                        CONTINUAR
                                        <i class="fa fa-arrow-circle-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- Botones Propuesta -->

                    </p-card>

                </p-panel>
            </div>
        </div>
        <!-- Contenedor tarifas -->


    </p-card>


    <br>

    <!-- Contenedor Propuesta -->
    <app-propuesta-livianos *ngIf="CURRENT_STAGE == PROPUESTA"></app-propuesta-livianos>
    <!-- Contenedor Propuesta -->

    <br>
    <br>


</div>